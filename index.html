<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار تحليل الشخصية - MBTI</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .instructions {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-right: 4px solid #3498db;
        }
        .question-container {
            margin-bottom: 20px;
            padding: 15px;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .question {
            margin-bottom: 10px;
            font-weight: bold;
        }
        .options {
            display: flex;
            justify-content: space-between;
        }
        .option {
            flex: 1;
            padding: 10px;
            margin: 0 5px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .option:hover {
            background-color: #f0f0f0;
        }
        .option.selected {
            background-color: #3498db;
            color: white;
            border-color: #2980b9;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .part-title {
            background-color: #2c3e50;
            color: white;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 20px;
        }
        .result {
            text-align: right;
            padding: 20px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-top: 20px;
        }
        .personality-type {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin: 10px 0;
        }
        .personality-title {
            font-size: 20px;
            color: #3498db;
            margin-bottom: 15px;
        }
        .progress-bar {
            height: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background-color: #3498db;
            transition: width 0.3s;
        }
        .hidden {
            display: none;
        }
        .strengths-weaknesses {
            display: flex;
            margin: 15px 0;
        }
        .strengths, .weaknesses {
            flex: 1;
            padding: 10px;
        }
        .strengths {
            border-right: 2px solid #ddd;
        }
        ul {
            padding-right: 20px;
            text-align: center;
        }
        .tab-container {
            margin: 20px 0;
        }
        .tabs {
            display: flex;
            border-bottom: 2px solid #3498db;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background: #f0f0f0;
            border-radius: 5px 5px 0 0;
            margin-left: 5px;
        }
        .tab.active {
            background: #3498db;
            color: white;
        }
        .tab-content {
            padding: 20px;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 5px 5px;
        }
        .tab-pane {
            display: none;
        }
        .tab-pane.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="text-align: center;">اختبار تحليل الشخصية MBTI</h1>
        <p><strong>إعداد: المدرب المعتمد/ ياسين سعيد علي<br>تصميم: المتدرب/ عبدالعزيز رضوان عبدالعزيز</strong></p>
        
        <div id="intro">
            <div class="instructions">
                <h2>إرشادات مهمة</h2>
                <ul>
                    <li>قم بإختيار حرف العبارة التي تعكس اعتقادك عن نفسك</li>
                    <li>كن صريحاً فيما تعتقده عن نفسك لتحقيق الدقة في تحديد نوع شخصيتك</li>
                    
                </ul>
            </div>
            <button id="start-test">بدء الاختبار</button>
        </div>
        
        <div id="test-container" class="hidden">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="part-title" id="part-title">الجزء الأول</div>
            
            <div id="questions"></div>
            
            <div class="navigation">
                <button id="prev-btn" disabled>السابق</button>
                <button id="next-btn">التالي</button>
                <button id="submit-btn" class="hidden">احسب النتيجة</button>
            </div>
        </div>
        
        <div id="result-container" class="hidden result">
            <h2>نتيجة اختبار الشخصية</h2>
            <div class="personality-type" id="personality-type"></div>
            <div class="personality-title" id="personality-title"></div>
            <div id="personality-description"></div>
            
            <div class="tab-container">
                <div class="tabs">
                    <div class="tab active" data-tab="strengths">نقاط القوة</div>
                    <div class="tab" data-tab="weaknesses">نقاط الضعف</div>
                    <div class="tab" data-tab="careers">المهن المناسبة</div>
                    <div class="tab" data-tab="relationships">العلاقات</div>
                </div>
                <div class="tab-content">
                    <div class="tab-pane active" id="strengths-tab">
                        <ul id="personality-strengths"></ul>
                    </div>
                    <div class="tab-pane" id="weaknesses-tab">
                        <ul id="personality-weaknesses"></ul>
                    </div>
                    <div class="tab-pane" id="careers-tab">
                        <ul id="personality-careers"></ul>
                    </div>
                    <div class="tab-pane" id="relationships-tab">
                        <div id="personality-relationships"></div>
                    </div>
                </div>
            </div>
            
            <button id="restart-btn">إعادة الاختبار</button>
        </div>
    </div>

    <script>
        // بيانات الأسئلة
        const questionsData = [
            // الجزء الأول
            [
                { a: "أفضل الدراسة أو العمل بتركيز وعزيمة", b: "أفضل الدراسة أو العمل بمرونة وتلقائية" },
                { a: "أفضل الدراسة مع أشخاص منظمين", b: "أفضل الدراسة مع أشخاص مرنين" },
                { a: "أبدأ بالحديث عن الحقائق والأفكار مع الآخرين", b: "أبدأ بالحديث عن المشاعر والآراء مع الآخرين" },
                { a: "أميل إلى الاستماع لآراء ومشاعر الآخرين", b: "لا أميل إلى الاستماع لآراء ومشاعر الآخرين" },
                { a: "أفضل الدراسة أو العمل بمفردي عندما أكون تحت ضغط", b: "أفضل الدراسة أو العمل مع الآخر عندما أكون تحت ضغط" },
                { a: "لا أستمتع بالدراسة أو العمل عندما يكون فيه تحديات وتنافس", b: "أستمتع بالدراسة أو العمل عندما يكون فيه تحديات وتنافس" },
                { a: "أفضل العمل بسرعة وحيوية مع الآخرين", b: "أفضل العمل بتأنٍ وهدوء بمفردي" },
                { a: "أقضي الكثير من الوقت في المنزل بمفردي أو مع أفراد الأسرة", b: "أقضي الكثير من الوقت خارج المنزل مع أصدقاء مقربين" },
                { a: "أحب أن أعرف وأفهم الآخرين من خلال أفكارهم", b: "أحب أن أعرف وأفهم الآخرين من خلال مشاعرهم وتصرفاتهم" },
                { a: "أستمتع بالمناسبات الاجتماعية واللقاءات مع الأصدقاء", b: "أفضل الهدوء والوحدة عن اللقاءات الاجتماعية" },
                { a: "أستمتع بالمناسبات الاجتماعية واللقاءات مع الأصدقاء", b: "أستمتع بالمناسبات الهادئة واللقاءات الفردية" },
                { a: "أفضل أن أدرس أو أعمل مع شخص مرن", b: "أفضل أن أدرس أو أعمل مع شخص منظم" },
                { a: "أستمتع بالحديث عن الأفكار والنظريات", b: "أستمتع بالحديث عن الأشخاص والأحداث" },
                { a: "أستمتع بمساعدة الآخرين وتقديم الدعم العاطفي", b: "أستمتع بمناقشة الأفكار والمبادئ" },
                { a: "أفضل الأشياء المعروفة والمجربة", b: "أفضل الأشياء الجديدة والمغامرة" }
            ],
            // الجزء الثاني
            [
                { a: "أتوافق بشدة مع المعلومات التي تخالف ما أعرفه أو ما درسته", b: "أجد في المعلومات التي تخالف ما أعرفه أو ما درسته موضوعاً للبحث" },
                { a: "عند تعليمي أو تكليفي بعمل أفضل أن يتم توضيح طريقة العمل بكل خطواتها", b: "عند تعليمي أو تكليفي بعمل أفضل أن تترك طريقة العمل أو جزء من خطواتها لمخيلتي" },
                { a: "أفضل أن أتعلم القليل من المهارات وأنقنها بشكل جيد", b: "أفضل أن أتعلم الكثير من المهارات وسأقنها عندما أحتاج لها" },
                { a: "أتعلم أفضل عندما أجرب وأطبق، وأحب التحسين والتطوير", b: "أتعلم أفضل عندما أتأمل وأفكر، وأحب الابتكار والاختراع" },
                { a: "أفضل أن أتعلم أشياء مبنية على قوانين ونظريات مثبتة", b: "أفضل أن أتعلم أشياء تحتاج للتغيير واستخدام الخيال" },
                { a: "غالباً أراجع نفسي وأفكر قبل أن أجيب على سؤال أو أتخذ قرار (بطيء في الإجابة واتخاذ القرار)", b: "غالباً أثق في حدسي وتوقعاتي عندما أجيب على سؤال أو أتخذ قرار (سريع في الإجابة واتخاذ القرار)" },
                { a: "أفضل الأفلام والقصص والروايات التي تحاكي الواقع", b: "أفضل أفلام الخيال العلمي والقصص والروايات الخيالية" },
                { a: "أفضل الأشياء المعروفة التي سبق تجربتها ونتائجها واضحة، لذلك أبدو حذراً", b: "أفضل الأشياء الجديدة التي لم يسبق تجربتها ونتائجها غير واضحة، لذلك أبدو مغامراً" },
                { a: "أدقق في الحقائق والمعلومات والتجارب الشخصية، لذلك أبدو عقلانياً", b: "أدقق في التخيلات والتوقعات والاستنتاجات، لذلك أبدو متهوراً" },
                { a: "لا أحب الحديث عن التوقعات المستقبلية البعيدة عن الواقع (أعيش في الواقع أكثر من الخيال)", b: "أحب الحديث عن التوقعات المستقبلية الخيالية (أعيش في الخيال أكثر من الواقع)" },
                { a: "أحب أن أعرف تفاصيل الحدث أو الموضوع الذي سأتحدث عنه", b: "يكفي أن أعرف الصورة العامة للحدث أو الموضوع الذي سأتحدث عنه" },
                { a: "أقرأ الكتاب أو الجريدة من الصفحة الأولى وحتى الأخيرة", b: "أتصفح الكتاب أو الجريدة بشكل عشوائي، وأحياناً أبدأ القراءة من النهاية" },
                { a: "أركز على تغييري فيما أمارسه، وله نتائج ملموسة", b: "أميل إلى التفكير في عدة مشاريع في نفس الوقت، لذلك أبدو مشتت التفكير" },
                { a: "أتوافق مع الظروف والأوضاع الجديدة قبل أن أتأقلم معها", b: "أتأقلم بسرعة مع الظروف والأوضاع الجديدة" },
                { a: "بطيء في إنجاز المهام ... مع الإتقان", b: "سريع في إنجاز المهام ... مع الجودة" }
            ],
            // الجزء الثالث
            [
                { a: "أفضل الدراسة أو العمل بتركيز مع جميع الناس في جميع الأوقات", b: "أفضل الدراسة أو العمل بتركيز مع الناس الذين أشعر بالراحة معهم" },
                { a: "أفضل الدراسة أو العمل مع شخص يعطيني معلومات وحقائق", b: "أفضل الدراسة أو العمل مع شخص يعطيني تشجيعاً ودعماً" },
                { a: "أستمتع بالمناقشات والحوارات العقلانية (أفضل العقل)", b: "أستمتع بالمشاعر والعواطف والعلاقات (أفضل القلب)" },
                { a: "أستمتع بالحديث عن الأفكار والمبادئ مع الآخرين", b: "أستمتع بالحديث عن المشاعر والتجارب الشخصية" },
                { a: "أفضل العقل على القلب", b: "أفضل القلب على العقل" },
                { a: "أستمتع بتصحيح أخطاء الآخرين ومناقشتهم بشكل موضوعي", b: "أستمتع بتشجيع الآخرين وتقدير مجهودهم" },
                { a: "عندما تكون لدي مهمة معينة، أركز على إنجازها فقط", b: "عندما تكون لدي مهمة معينة، أركز على العلاقات مع الناس أيضاً" },
                { a: "أستمتع بالمناقشات العقلانية والجدال مع الآخرين", b: "أستمتع بالعلاقات الودية والانسجام مع الآخرين" },
                { a: "أستمتع بالتحديات الفكرية والمنطقية", b: "أستمتع بالمشاعر الإنسانية والعلاقات" },
                { a: "أهتم بالحقائق والمنطق عند تقييم الأشخاص", b: "أهتم بالمشاعر والقيم عند تقييم الأشخاص" },
                { a: "أستمتع بتحليل الأفكار والنظريات", b: "أستمتع بمساعدة الآخرين وتفهم مشاعرهم" },
                { a: "أفضل الوضوح والصراحة في العلاقات", b: "أفضل المرونة والتك適應 في العلاقات" },
                { a: "أهتم بالعدالة والمساواة", b: "أهتم بالرحمة والتسامح" },
                { a: "أستمتع بالمنافسة والتحدي", b: "أستمتع بالتعاون والانسجام" },
                { a: "أفضل أن أكون صريحاً ومباشراً", b: "أفضل أن أكون لطيفاً ومتفهماً" }
            ],
            // الجزء الرابع
            [
                { a: "أفضل الدراسة أو العمل بطريقة مرتبة ومنظمة", b: "أفضل الدراسة أو العمل بطريقة مرنة وغير منظمة" },
                { a: "أفضل أن يكون الواجب أو العمل لي موعد تسليم محدد", b: "أفضل أن يكون الواجب أو العمل لي موعد تسليم مفتوح" },
                { a: "طريقة مذاكرتي أو عملي مرتبة ومنظمة، بحيث أوازن بين المذاكرة أو العمل والاسترخاء", b: "طريقة مذاكرتي أو عملي مرنة، بحيث أسترخي أكثر وأضغط نفسي ليلة الامتحانات أو لموعد التسليم" },
                { a: "أضع جدول مذاكرة أو عمل وأحاول الالتزام به", b: "أحب التأجيل والتسويف إلى آخر المستطاع حتى أجد نفسي أمام الأمر الواقع" },
                { a: "عندما يكون أمامي مادتين أو مهمتين أبدأ بالمادة التي يتوجب علي إنهاؤها أولاً", b: "عندما يكون أمامي مادتين أو مهمتين أبدأ بالمادة التي أحبها وأستمتع بها أولاً" },
                { a: "أنا في الغالب أفضل التخطيط والتنظيم، لذلك أبدو مرتباً ومنظماً", b: "أنا في الغالب أفضل العفوية والتلقائية، لذلك أبدو فوضوياً" },
                { a: "أميل للمواعيد والتوجيهات الواضحة", b: "أكره المواعيد والتوجيهات فهي مقيدة" },
                { a: "أحترم المواعيد وأستخدم وسائل التذكر والجدولة", b: "أنسى المواعيد وأندمج فيما ألهي به من عمل" },
                { a: "العمل أولاً ثم الراحة", b: "الراحة أولاً ثم العمل" },
                { a: "أميل إلى حسم الأمور وإغلاقها باتخاذ القرارات بشأنها", b: "أميل إلى ترك الخيارات مفتوحة واتخاذ القرارات في آخر لحظة" },
                { a: "أنني أعمل مبكراً لأتخلص من الزحام", b: "أسوف أعمل حتى تتراكم وأضطر لفعلهما في اللحظة الأخيرة" },
                { a: "حاسم وصارم في المواعيد، ونادراً ما أتأخر", b: "مواعيدي مرنة جداً، وكثيراً ما أتأخر" },
                { a: "أحب العمل وفق خطة محددة", b: "أحب العمل ضمن إطار عام دون الالتزام بخطة محددة" },
                { a: "حياتي مخططة ولا أترك فرصة للمفاجآت", b: "حياتي مرنة ومفتوحة لكل الاحتمالات" },
                { a: "أحترم النظام، وأكره أن أخالف القوانين", b: "أحترم روح القانون ولا ألتزم به بشكل صارم" }
            ]
        ];

        const typeInfo = {
            'ISTJ': {
                title: 'المدقق - العملي المنظم',
                description: 'يتميز ISTJ بالمسؤولية والواقعية والتنظيم. هم أشخاص عمليون، يعتمدون على الحقائق والتفاصيل، ويلتزمون باللوائح والقوانين. يفضلون العمل في بيئات منظمة ويكونون موثوقين للغاية في أداء واجباتهم.',
                strengths: ['موثوقون وجديرون بالثقة', 'منظمون ودقيقون', 'عمليون وواقعيون', 'ملتزمون بالمسؤوليات'],
                weaknesses: ['قد يكونون غير مرنين', 'مقاومون للتغيير', 'يميلون للتركيز على التفاصيل ويفوتون الصورة الكبيرة', 'قد يبدون صارمين أو قاسين'],
                careers: ['محاسب', 'مدقق مالي', 'مسؤول نظم', 'مكتبي', 'ضابط عسكري', 'فني', 'مدير عمليات'],
                relationships: 'ISTJ هم شركاء مخلصون وموثوقون، يظهرون حبهم من خلال الأفعال أكثر من الكلمات. يلتزمون بعلاقاتهم ويعملون بجد للحفاظ على استقرارها وأمانها.'
            },
            'ISFJ': {
                title: 'الحامي - الحنون المدافع',
                description: 'ISFJ هم أشخاص داعمون ومخلصون، يهتمون براحة الآخرين ويعملون بجد لتلبية احتياجات من حولهم. يتميزون بالدفء والتعاطف، ويهتمون بالحفاظ على التقاليد والقيم.',
                strengths: ['مخلصون وموثوقون', 'متعاطفون ويهتمون بالآخرين', 'عمليون ومنظمون', 'مراقبون ودقيقون'],
                weaknesses: ['يتجنبون الصراع', 'يميلون لانتقاد أنفسهم بقسوة', 'مقاومون للتغيير', 'قد يهملون احتياجاتهم الخاصة'],
                careers: ['ممرض', 'معلم', 'أخصائي اجتماعي', 'مساعد إداري', 'أمين مكتبة', 'رعاية الأطفال', 'استشاري'],
                relationships: 'ISFJ هم شركاء مخلصون ومتفانون، يسعون دائمًا لراحة شريكهم وسعادته. يهتمون بالتفاصيل الصغيرة التي تجعل العلاقة خاصة.'
            },
            'INFJ': {
                title: 'المستشار - المثالي الخلاق',
                description: 'INFJ هم أشخاص مثاليون وحدسيون، يسعون لجعل العالم مكاناً أفضل. يتميزون بعمق التفكير والإبداع، ويهتمون بالعلاقات العميقة والهادفة. لديهم قدرة على فهم مشاعر الآخرين وحل المشكلات المعقدة.',
                strengths: ['مبدعون ومثاليون', 'يحبون التعمق في الأفكار', 'متفهمون لمشاعر الآخرين', 'ملتزمون بقيمهم'],
                weaknesses: ['حساسون للنقد', 'يميلون للكمالية', 'يصعب عليهم ترك العلاقات السيئة', 'قد يهملون احتياجاتهم'],
                careers: ['كاتب', 'استشاري', 'عالم نفس', 'أخصائي موارد بشرية', 'داعية', 'فنان', 'عامل اجتماعي'],
                relationships: 'INFJ يبحثون عن علاقات عميقة وهادفة. هم شركاء مخلصون وحساسون، يسعون لفهم شريكهم على مستوى عميق ويدعمون نموه الشخصي.'
            },
            'INTJ': {
                title: 'المخطط - الاستراتيجي المبتكر',
                description: 'INTJ هم مفكرون استراتيجيون ومستقلون، يتمتعون برؤية مستقبلية وقدرة على التخطيط طويل المدى. يعتمدون على المنطق والعقلانية، ويسعون لتحقيق أهدافهم بطريقة منظمة ومبتكرة.',
                strengths: ['مستقلون وواثقون', 'مفكرون استراتيجيون', 'مبدعون ومبتكرون', 'ملتزمون بأهدافهم'],
                weaknesses: ['قد يبدون متعجرفين', 'غير صبورين مع عدم الكفاءة', 'يميلون للانعزال', 'يصعب عليهم التعبير عن المشاعر'],
                careers: ['مهندس', 'عالم', 'مبرمج', 'مدير استراتيجي', 'قاضي', 'محلل نظم', 'باحث'],
                relationships: 'INTJ يقدرون الاستقلالية والفكر المستقل في شركائهم. يبحثون عن علاقات تحفزهم فكرياً وتمكنهم من النمو مع شريكهم.'
            },
            'ISTP': {
                title: 'الحرفي - المحلل العملي',
                description: 'ISTP هم أشخاص عمليون ومرنون، يحبون استكشاف كيفية عمل الأشياء. يتميزون بالبراعة في حل المشكلات والعمل تحت الضغط، ويفضلون التعلم من خلال التجربة العملية.',
                strengths: ['هادئون تحت الضغط', 'عمليون وواقعيون', 'مرنون ومتكيفون', 'ماهرون في حل المشكلات'],
                weaknesses: ['متحفظون وعصاميون', 'يكرهون الالتزام', 'يمكن أن يكونوا متهورين', 'يميلون للمخاطرة'],
                careers: ['مهندس ميكانيكي', 'طيار', 'مبرمج', 'خبير جرائم', 'فني', 'رياضي', 'سائق'],
                relationships: 'ISTP يقدرون استقلاليتهم ويحتاجون إلى مساحة في العلاقات. هم شركاء عمليون يحلون المشاكل ببراعة ويجلبون الإثارة للعلاقة.'
            },
            'ISFP': {
                title: 'الملحن - الفنان الحساس',
                description: 'ISFP هم أشخاص فنيون وحساسون، يعيشون في اللحظة ويقدرون الجمال في كل شيء. يتميزون بالود والمرحلة، ويهتمون بتجارب الآخرين ومشاعرهم.',
                strengths: ['مرنون ومتكيفون', 'حساسون ومتعاطفون', 'مبدعون وفنيون', 'يعيشون في اللحظة'],
                weaknesses: ['يكرهون الصراع', 'يمكن أن يكونوا غير منظمين', 'حساسون للنقد', 'يميلون للتسويف'],
                careers: ['فنان', 'موسيقي', 'مصمم', 'طبيب بيطري', 'أخصائي علاج طبيعي', 'عامل اجتماعي', 'مصور'],
                relationships: 'ISFP هم شركاء حساسون ومتعاطفون، يجلبون الجمال والعفوية للعلاقة. يقدرون الأصالة ويبحثون عن شركاء يقدرون فرديتهم.'
            },
            'INFP': {
                title: 'المثالي - الحالم المبدع',
                description: 'INFP هم أشخاص مثاليون ومبدعون، يسعون للانسجام ويؤمنون بقيمهم الداخلية بعمق. يتميزون بالتعاطف والفضول الفكري، ويهتمون بمساعدة الآخرين وتحقيق مثاليةهم.',
                strengths: ['متعاطفون ومتفهمون', 'مبدعون ومثاليون', 'شغوفون بقيمهم', 'مرنون ومتكيفون'],
                weaknesses: ['مثاليون أكثر من اللازم', 'يكرهون الصراع', 'يمكن أن يكونوا غير عمليين', 'يميلون للقلق'],
                careers: ['كاتب', 'شاعر', 'استشاري', 'أخصائي نفسي', 'عامل اجتماعي', 'مصمم جرافيك', 'مترجم'],
                relationships: 'INFP يبحثون عن علاقات عميقة ومتوافقة مع قيمهم. هم شركاء مخلصون ومتفهمون، يسعون لخلق علاقة مليئة بالمعنى والغرض.'
            },
            'INTP': {
                title: 'المفكر - العقلاني المنطقي',
                description: 'INTP هم مفكرون تحليليون ومبدعون، يحبون النظريات المعقدة ويسعون لفهم الأنظمة. يتميزون بالاستقلالية والفضول الفكري، ويهتمون بالتحليل المنطقي للأفكار.',
                strengths: ['مبدعون وأصليون', 'مفكرون تحليليون', 'مستقلون وفكريون', 'منفتحون على الأفكار الجديدة'],
                weaknesses: ['يمكن أن يكونوا غير عمليين', 'يكرهون الروتين', 'يميلون للانعزال', 'يصعب عليهم اتخاذ القرارات'],
                careers: ['عالم', 'فيلسوف', 'مبرمج', 'مهندس', 'أستاذ جامعي', 'محلل نظم', 'باحث'],
                relationships: 'INTP يقدرون الاستقلال الفكري والمناقشات العميقة. هم شركاء مخلصون though قد يبدون منعزلين أحياناً، ويحتاجون إلى شركاء يفهمون حاجتهم للفضاء الفكري.'
            },
            'ESTP': {
                title: 'المقنع - المغامر النشط',
                description: 'ESTP هم أشخاص نشطون ومرنون، يحبون المخاطرة ويعيشون اللحظة بحيوية. يتميزون بالبراعة العملية والكاريزما، ويفضلون التعلم من خلال التجربة المباشرة.',
                strengths: ['مرنون ومتكيفون', 'واقعيون وعمليون', 'يتمتعون بالكاريزما', 'ماهرون في حل المشكلات'],
                weaknesses: ['يمكن أن يكونوا متهورين', 'يكرهون النظرية والتجريد', 'يميلون للمخاطرة', 'غير صبورين'],
                careers: ['رجل أعمال', 'مسوق', 'ضابط شرطة', 'رياضي', 'ممثل', 'ميكانيكي', 'منظم فعاليات'],
                relationships: 'ESTP يجلبون الإثارة والمرح للعلاقات. هم شركاء spontaneity ومغامرون، يحبون استكشاف أشياء جديدة مع شريكهم ويجعلون الحياة اليومية ممتعة.'
            },
            'ESFP': {
                title: 'المؤدي - المتفائل المرح',
                description: 'ESFP هم أشخاص spontaneity ومفعمة بالحيوية، يحبون المرح ويجلبون البهجة للآخرين. يتميزون بالمرحة والود، ويهتمون بتجارب الحياة الممتعة والمثيرة.',
                strengths: ['مرحون ومتفائلون', 'عمليون وواقعيون', 'يتمتعون بالكاريزما', 'مرنون ومتكيفون'],
                weaknesses: ['يكرهون التنظير', 'يمكن أن يكونوا غير منظمين', 'يميلون للتشتت', 'يحبون أن يكونوا في مركز الاهتمام'],
                careers: ['ممثل', 'مسوق', 'منظم فعاليات', 'مدرب', 'أخصائي علاقات عامة', 'مرشد سياحي', 'بائع'],
                relationships: 'ESFP هم شركاء مرحون ومتفائلون، يجلبون الطاقة الإيجابية للعلاقة. يقدرون المتعة والتلقائية ويسعون لجعل الحياة مع شريكهم مليئة بالمرح والمغامرات.'
            },
            'ENFP': {
                title: 'البطل - المتحمس المبدع',
                description: 'ENFP هم أشخاص متحمسون ومبدعون، يرون احتمالات في كل شيء ويحفزون الآخرين. يتميزون بالحماس والإبداع، ويهتمون بتطوير العلاقات واستكشاف الأفكار الجديدة.',
                strengths: ['متحمسون ومبدعون', 'يتمتعون بالكاريزما', 'مرنون ومتكيفون', 'ماهرون في التواصل'],
                weaknesses: ['يمكن أن يكونوا غير منظمين', 'يميلون للتسويف', 'يحبون أن يكونوا في مركز الاهتمام', 'يتجنبون الصراع'],
                careers: ['كاتب', 'صحفي', 'مسوق', 'مستشار', 'مدرس', 'ممثل', 'رجل أعمال'],
                relationships: 'ENFP هم شركاء متحمسون ومبدعون، يجلبون الطاقة والإلهام للعلاقة. يقدرون النمو الشخصي ويشجعون شريكهم على متابعة أحلامه.'
            },
            'ENTP': {
                title: 'المبتكر - المفكر الذكي',
                description: 'ENTP هم أشخاص ذكيون ومبتكرون، يحبون النقاش ويحفزون التغيير بالتحدي الفكري. يتميزون بالفضول والبراعة الذهنية، ويهتمون باستكشاف الاحتمالات وتحليل الأفكار.',
                strengths: ['مبدعون وأصليون', 'مفكرون سريعون', 'يتمتعون بالكاريزما', 'مرنون ومتكيفون'],
                weaknesses: ['يمكن أن يكونوا جدليين', 'يكرهون الروتين', 'يميلون للمقاطعة', 'غير صبورين'],
                careers: ['رجل أعمال', 'محامي', 'مخترع', 'مسوق', 'مستشار', 'مهندس', 'صحفي'],
                relationships: 'ENTP يقدرون الذكاء والفضول الفكري في شركائهم. هم شركاء محفزون intellectually، يحبون النقاشات العميقة ويشجعون شريكهم على النمو الفكري.'
            },
            'ESTJ': {
                title: 'المدير - المنظم العملي',
                description: 'ESTJ هم أشخاص عمليون ومنظمون، يحبون النظام ويعملون بجد لتحقيق الأهداف. يتميزون بالمسؤولية والواقعية، ويهتمون بإنفاذ القواعد والحفاظ على التقاليد.',
                strengths: ['عمليون وواقعيون', 'منظمون وموثوقون', 'قادة طبيعيون', 'ملتزمون بالمسؤوليات'],
                weaknesses: ['يمكن أن يكونوا غير مرنين', 'يميلون للسيطرة', 'يكرهون الفوضى', 'قد يبدون صارمين'],
                careers: ['مدير', 'ضابط عسكري', 'محاسب', 'قاضي', 'معلم', 'مسؤول حكومي', 'مدير مشاريع'],
                relationships: 'ESTJ هم شركاء مخلصون وموثوقون، يوفرون الاستقرار والأمان في العلاقة. يقدرون الالتزام والمسؤولية ويعملون بجد لبناء حياة مستقرة مع شريكهم.'
            },
            'ESFJ': {
                title: 'مقدم الرعاية - الداعم الاجتماعي',
                description: 'ESFJ هم أشخاص داعمون واجتماعيون، يحبون مساعدة الآخرين وخلق الانسجام. يتميزون بالود والمسؤولية، ويهتمون بإنشاء علاقات إيجابية والحفاظ على التقاليد.',
                strengths: ['ودودون ومتعاطفون', 'منظمون وموثوقون', 'ماهرون في التواصل', 'يهتمون بالآخرين'],
                weaknesses: ['حساسون للنقد', 'يكرهون الصراع', 'يميلون للتقليدية', 'يهتمون برأي الآخرين بشكل مفرط'],
                careers: ['ممرض', 'معلم', 'أخصائي اجتماعي', 'مساعد إداري', 'منظم فعاليات', 'موظف استقبال', 'مدير موارد بشرية'],
                relationships: 'ESFJ هم شركاء مخلصون وداعمون، يسعون لخلق انسجام في العلاقة. يقدرون التقاليد والعائلة ويعملون بجد لرعاية شريكهم وتلبية احتياجاته.'
            },
            'ENFJ': {
                title: 'المعلم - الكاريزمي المحفز',
                description: 'ENFJ هم أشخاص كاريزميون ومحفزون، يلهمون الآخرين ويعملون من أجل الصالح العام. يتميزون بالتعاطف والقيادة الطبيعية، ويهتمون بتنمية الآخرين وخلق التغيير الإيجابي.',
                strengths: ['قادة طبيعيون', 'متعاطفون ومتفهمون', 'ماهرون في التواصل', 'ملتزمون بقيمهم'],
                weaknesses: ['حساسون للنقد', 'يميلون للإرهاق', 'يهتمون برأي الآخرين بشكل مفرط', 'يتجنبون الصراع'],
                careers: ['معلم', 'استشاري', 'داعية', 'مدرب', 'أخصائي موارد بشرية', 'عامل اجتماعي', 'قائد مجتمعي'],
                relationships: 'ENFJ هم شركاء داعمون ومحفزون، يساعدون شريكهم على النمو وتحقيق إمكاناته. يقدرون التواصل العميق ويسعون لخلق علاقة متناغمة ومتوازنة.'
            },
            'ENTJ': {
                title: 'القائد - الاستراتيجي الحاسم',
                description: 'ENTJ هم أشخاص قياديون وحاسمون، استراتيجيون ويعملون بكفاءة لتحقيق الأهداف. يتميزون بالثقة والطموح، ويهتمون بالتخطيط طويل المدى وقيادة الآخرين.',
                strengths: ['قادة طبيعيون', 'استراتيجيون وطموحون', 'واثقون وحاسمون', 'منظمون وفعالون'],
                weaknesses: ['يمكن أن يكونوا متعجرفين', 'غير صبورين مع عدم الكفاءة', 'يميلون للسيطرة', 'يصعب عليهم التعامل مع المشاعر'],
                careers: ['رئيس تنفيذي', 'محامي', 'مدير', 'مستشار إداري', 'قائد عسكري', 'رجل أعمال', 'محلل مالي'],
                relationships: 'ENTJ هم شركاء طموحون وداعمون، يشجعون شريكهم على تحقيق أهدافه. يقدرون الذكاء والطموح ويسعون لبناء علاقة قوية قائمة على النمو المتبادل والنجاح.'
            }
        };

        const parts = ["الجزء الأول", "الجزء الثاني", "الجزء الثالث", "الجزء الرابع"];
        let currentPart = 0;
        let currentQuestion = 0;
        let answers = Array(4).fill().map(() => Array(15).fill(null));
        
        const introElement = document.getElementById('intro');
        const testContainer = document.getElementById('test-container');
        const questionsElement = document.getElementById('questions');
        const partTitleElement = document.getElementById('part-title');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const progressElement = document.getElementById('progress');
        const resultContainer = document.getElementById('result-container');
        const personalityTypeElement = document.getElementById('personality-type');
        const personalityTitleElement = document.getElementById('personality-title');
        const personalityDescriptionElement = document.getElementById('personality-description');
        const personalityStrengthsElement = document.getElementById('personality-strengths');
        const personalityWeaknessesElement = document.getElementById('personality-weaknesses');
        const personalityCareersElement = document.getElementById('personality-careers');
        const personalityRelationshipsElement = document.getElementById('personality-relationships');
        const restartBtn = document.getElementById('restart-btn');
        const startTestBtn = document.getElementById('start-test');

        startTestBtn.addEventListener('click', startTest);
        prevBtn.addEventListener('click', showPreviousQuestion);
        nextBtn.addEventListener('click', showNextQuestion);
        submitBtn.addEventListener('click', calculateResult);
        restartBtn.addEventListener('click', restartTest);

        // إضافة event listeners للتبويبات
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // إزالة النشاط من جميع التبويبات
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                // إضافة النشاط للتبويب المحدد
                tab.classList.add('active');
                
                // إخفاء جميع محتويات التبويبات
                document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));
                // إظهار المحتوى المناسب
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });

        function startTest() {
            introElement.classList.add('hidden');
            testContainer.classList.remove('hidden');
            showQuestion();
            updateProgress();
        }

        function showQuestion() {
            partTitleElement.textContent = parts[currentPart];
            questionsElement.innerHTML = '';
            
            const questionData = questionsData[currentPart][currentQuestion];
            const questionNumber = currentQuestion + 1;
            
            const questionElement = document.createElement('div');
            questionElement.className = 'question-container';
            questionElement.innerHTML = `
                <div class="question">${questionNumber}.<br>أ. ${questionData.a}.<br>ب. ${questionData.b}.</div>
                <div class="options">
                    <div class="option ${answers[currentPart][currentQuestion] === 'a' ? 'selected' : ''}" data-value="a">أ</div>
                    <div class="option ${answers[currentPart][currentQuestion] === 'b' ? 'selected' : ''}" data-value="b">ب</div>
                </div>
            `;
            
            questionsElement.appendChild(questionElement);
            
            const optionElements = questionElement.querySelectorAll('.option');
            optionElements.forEach(option => {
                option.addEventListener('click', () => {
                    optionElements.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    answers[currentPart][currentQuestion] = option.dataset.value;
                    
                    // تمكين زر التالي عند اختيار إجابة
                    nextBtn.disabled = false;
                });
            });
            
            // تحديث حالة الأزرار
            prevBtn.disabled = currentPart === 0 && currentQuestion === 0;
            
            if (currentPart === 3 && currentQuestion === 14) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        function showNextQuestion() {
            if (currentQuestion < 14) {
                currentQuestion++;
            } else if (currentPart < 3) {
                currentPart++;
                currentQuestion = 0;
            }
            
            showQuestion();
            updateProgress();
        }

        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
            } else if (currentPart > 0) {
                currentPart--;
                currentQuestion = 14;
            }
            
            showQuestion();
            updateProgress();
        }

        function updateProgress() {
            const totalQuestions = 60;
            const answeredQuestions = answers.flat().filter(answer => answer !== null).length;
            const progressPercentage = (answeredQuestions / totalQuestions) * 100;
            progressElement.style.width = `${progressPercentage}%`;
        }

        function calculateResult() {
            // حساب النتائج بناءً على الإجابات
            let e = 0, i = 0, s = 0, n = 0, t = 0, f = 0, j = 0, p = 0;
            
            // الجزء الأول: E/I
            answers[0].forEach(answer => {
                if (answer === 'a') e++;
                else if (answer === 'b') i++;
            });
            
            // الجزء الثاني: S/N
            answers[1].forEach(answer => {
                if (answer === 'a') s++;
                else if (answer === 'b') n++;
            });
            
            // الجزء الثالث: T/F
            answers[2].forEach(answer => {
                if (answer === 'a') t++;
                else if (answer === 'b') f++;
            });
            
            // الجزء الرابع: J/P
            answers[3].forEach(answer => {
                if (answer === 'a') j++;
                else if (answer === 'b') p++;
            });
            
            // تحديد نوع الشخصية
            const type = 
                (e > i ? 'E' : 'I') +
                (s > n ? 'S' : 'N') +
                (t > f ? 'T' : 'F') +
                (j > p ? 'J' : 'P');
            
            // عرض النتيجة
            showResult(type);
        }

        function showResult(type) {
            testContainer.classList.add('hidden');
            resultContainer.classList.remove('hidden');
            
            const typeData = typeInfo[type];
            
            personalityTypeElement.textContent = `نوع شخصيتك هو: ${type}`;
            personalityTitleElement.textContent = typeData.title;
            personalityDescriptionElement.textContent = typeData.description;
            
            // عرض نقاط القوة
            personalityStrengthsElement.innerHTML = '';
            typeData.strengths.forEach(strength => {
                const li = document.createElement('li');
                li.textContent = strength;
                personalityStrengthsElement.appendChild(li);
            });
            
            // عرض نقاط الضعف
            personalityWeaknessesElement.innerHTML = '';
            typeData.weaknesses.forEach(weakness => {
                const li = document.createElement('li');
                li.textContent = weakness;
                personalityWeaknessesElement.appendChild(li);
            });
            
            // عرض المهن المناسبة
            personalityCareersElement.innerHTML = '';
            typeData.careers.forEach(career => {
                const li = document.createElement('li');
                li.textContent = career;
                personalityCareersElement.appendChild(li);
            });
            
            // عرض العلاقات
            personalityRelationshipsElement.textContent = typeData.relationships;
        }

        function restartTest() {
            currentPart = 0;
            currentQuestion = 0;
            answers = Array(4).fill().map(() => Array(15).fill(null));
            
            resultContainer.classList.add('hidden');
            introElement.classList.remove('hidden');
            
            nextBtn.disabled = true;
            updateProgress();
        }
    </script>
</body>
</html>