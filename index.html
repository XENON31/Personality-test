<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار تحليل الشخصية - MBTI</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .instructions {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-right: 4px solid #3498db;
        }
        .question-container {
            margin-bottom: 20px;
            padding: 15px;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .question {
            margin-bottom: 10px;
            font-weight: bold;
        }
        .options {
            display: flex;
            justify-content: space-between;
        }
        .option {
            flex: 1;
            padding: 10px;
            margin: 0 5px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .option:hover {
            background-color: #f0f0f0;
        }
        .option.selected {
            background-color: #3498db;
            color: white;
            border-color: #2980b9;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .part-title {
            background-color: #2c3e50;
            color: white;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 20px;
        }
        .result {
            text-align: center;
            padding: 20px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-top: 20px;
        }
        .personality-type {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin: 10px 0;
        }
        .progress-bar {
            height: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background-color: #3498db;
            transition: width 0.3s;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>اختبار تحليل الشخصية MBTI</h1>
        <p><strong>إعداد: المدرب المعتمد/ ياسين سعيد علي<br>تصميم المتدرب/ عبدالعزيز رضوان عبدالعزيز</strong></p>
        
        <div id="intro">
            <div class="instructions">
                <h2>إرشادات مهمة</h2>
                <ul>
                    <li>المدة المقترحة للاختبار: 20 دقيقة</li>
                    <li>يتكون الاختبار من 4 أجزاء، كل جزء يتكون من قائمتين (أ، ب)، كل قائمة تحتوي على 15 عبارة</li>
                    <li>ضع علامة (✓) أمام العبارة التي تعكس اعتقادك عن نفسك</li>
                    <li>كن صريحاً فيما تعتقده عن نفسك لتحقيق الدقة في تحديد نوع شخصيتك</li>
                    <li>بعد الانتهاء من الاختبار، اجمع العلامات في كل قائمة على حدى، وضع المجموع في أسفل القائمة</li>
                </ul>
            </div>
            <button id="start-test">بدء الاختبار</button>
        </div>
        
        <div id="test-container" class="hidden">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="part-title" id="part-title">الجزء الأول</div>
            
            <div id="questions"></div>
            
            <div class="navigation">
                <button id="prev-btn" disabled>السابق</button>
                <button id="next-btn">التالي</button>
                <button id="submit-btn" class="hidden">احسب النتيجة</button>
            </div>
        </div>
        
        <div id="result-container" class="hidden result">
            <h2>نتيجة اختبار الشخصية</h2>
            <div class="personality-type" id="personality-type"></div>
            <div id="personality-description"></div>
            <button id="restart-btn">إعادة الاختبار</button>
        </div>
    </div>

    <script>
        // بيانات الأسئلة مترجمة ومنظمة
        const questionsData = [
            // الجزء الأول
            [
                { a: "أفضل الدراسة أو العمل بتركيز وعزيمة", b: "أفضل الدراسة أو العمل بمرونة وتلقائية" },
                { a: "أفضل الدراسة مع أشخاص منظمين", b: "أفضل الدراسة مع أشخاص مرنين" },
                { a: "أبدأ بالحديث عن الحقائق والأفكار مع الآخرين", b: "أبدأ بالحديث عن المشاعر والآراء مع الآخرين" },
                { a: "أميل إلى الاستماع لآراء ومشاعر الآخرين", b: "لا أميل إلى الاستماع لآراء ومشاعر الآخرين" },
                { a: "أفضل الدراسة أو العمل بمفردي عندما أكون تحت ضغط", b: "أفضل الدراسة أو العمل مع الآخر عندما أكون تحت ضغط" },
                { a: "لا أستمتع بالدراسة أو العمل عندما يكون فيه تحديات وتنافس", b: "أستمتع بالدراسة أو العمل عندما يكون فيه تحديات وتنافس" },
                { a: "أفضل العمل بسرعة وحيوية مع الآخرين", b: "أفضل العمل بتأنٍ وهدوء بمفردي" },
                { a: "أقضي الكثير من الوقت في المنزل بمفردي أو مع أفراد الأسرة", b: "أقضي الكثير من الوقت خارج المنزل مع أصدقاء مقربين" },
                { a: "أحب أن أعرف وأفهم الآخرين من خلال أفكارهم", b: "أحب أن أعرف وأفهم الآخرين من خلال مشاعرهم وتصرفاتهم" },
                { a: "أستمتع بالمناسبات الاجتماعية واللقاءات مع الأصدقاء", b: "أفضل الهدوء والوحدة عن اللقاءات الاجتماعية" },
                { a: "أستمتع بالمناسبات الاجتماعية واللقاءات مع الأصدقاء", b: "أستمتع بالمناسبات الهادئة واللقاءات الفردية" },
                { a: "أفضل أن أدرس أو أعمل مع شخص مرن", b: "أفضل أن أدرس أو أعمل مع شخص منظم" },
                { a: "أستمتع بالحديث عن الأفكار والنظريات", b: "أستمتع بالحديث عن الأشخاص والأحداث" },
                { a: "أستمتع بمساعدة الآخرين وتقديم الدعم العاطفي", b: "أستمتع بمناقشة الأفكار والمبادئ" },
                { a: "أفضل الأشياء المعروفة والمجربة", b: "أفضل الأشياء الجديدة والمغامرة" }
            ],
            // الجزء الثاني
            [
                { a: "أتوافق بشدة مع المعلومات التي تخالف ما أعرفه أو ما درسته", b: "أجد في المعلومات التي تخالف ما أعرفه أو ما درسته موضوعاً للبحث" },
                { a: "عند تعليمي أو تكليفي بعمل أفضل أن يتم توضيح طريقة العمل بكل خطواتها", b: "عند تعليمي أو تكليفي بعمل أفضل أن تترك طريقة العمل أو جزء من خطواتها لمخيلتي" },
                { a: "أفضل أن أتعلم القليل من المهارات وأنقنها بشكل جيد", b: "أفضل أن أتعلم الكثير من المهارات وسأقنها عندما أحتاج لها" },
                { a: "أتعلم أفضل عندما أجرب وأطبق، وأحب التحسين والتطوير", b: "أتعلم أفضل عندما أتأمل وأفكر، وأحب الابتكار والاختراع" },
                { a: "أفضل أن أتعلم أشياء مبنية على قوانين ونظريات مثبتة", b: "أفضل أن أتعلم أشياء تحتاج للتغيير واستخدام الخيال" },
                { a: "غالباً أراجع نفسي وأفكر قبل أن أجيب على سؤال أو أتخذ قرار (بطيء في الإجابة واتخاذ القرار)", b: "غالباً أثق في حدسي وتوقعاتي عندما أجيب على سؤال أو أتخذ قرار (سريع في الإجابة واتخاذ القرار)" },
                { a: "أفضل الأفلام والقصص والروايات التي تحاكي الواقع", b: "أفضل أفلام الخيال العلمي والقصص والروايات الخيالية" },
                { a: "أفضل الأشياء المعروفة التي سبق تجربتها ونتائجها واضحة، لذلك أبدو حذراً", b: "أفضل الأشياء الجديدة التي لم يسبق تجربتها ونتائجها غير واضحة، لذلك أبدو مغامراً" },
                { a: "أدقق في الحقائق والمعلومات والتجارب الشخصية، لذلك أبدو عقلانياً", b: "أدقق في التخيلات والتوقعات والاستنتاجات، لذلك أبدو متهوراً" },
                { a: "لا أحب الحديث عن التوقعات المستقبلية البعيدة عن الواقع (أعيش في الواقع أكثر من الخيال)", b: "أحب الحديث عن التوقعات المستقبلية الخيالية (أعيش في الخيال أكثر من الواقع)" },
                { a: "أحب أن أعرف تفاصيل الحدث أو الموضوع الذي سأتحدث عنه", b: "يكفي أن أعرف الصورة العامة للحدث أو الموضوع الذي سأتحدث عنه" },
                { a: "أقرأ الكتاب أو الجريدة من الصفحة الأولى وحتى الأخيرة", b: "أتصفح الكتاب أو الجريدة بشكل عشوائي، وأحياناً أبدأ القراءة من النهاية" },
                { a: "أركز على تغييري فيما أمارسه، وله نتائج ملموسة", b: "أميل إلى التفكير في عدة مشاريع في نفس الوقت، لذلك أبدو مشتت التفكير" },
                { a: "أتوافق مع الظروف والأوضاع الجديدة قبل أن أتأقلم معها", b: "أتأقلم بسرعة مع الظروف والأوضاع الجديدة" },
                { a: "بطيء في إنجاز المهام ... مع الإتقان", b: "سريع في إنجاز المهام ... مع الجودة" }
            ],
            // الجزء الثالث
            [
                { a: "أفضل الدراسة أو العمل بتركيز مع جميع الناس في جميع الأوقات", b: "أفضل الدراسة أو العمل بتركيز مع الناس الذين أشعر بالراحة معهم" },
                { a: "أفضل الدراسة أو العمل مع شخص يعطيني معلومات وحقائق", b: "أفضل الدراسة أو العمل مع شخص يعطيني تشجيعاً ودعماً" },
                { a: "أستمتع بالمناقشات والحوارات العقلانية (أفضل العقل)", b: "أستمتع بالمشاعر والعواطف والعلاقات (أفضل القلب)" },
                { a: "أستمتع بالحديث عن الأفكار والمبادئ مع الآخرين", b: "أستمتع بالحديث عن المشاعر والتجارب الشخصية" },
                { a: "أفضل العقل على القلب", b: "أفضل القلب على العقل" },
                { a: "أستمتع بتصحيح أخطاء الآخرين ومناقشتهم بشكل موضوعي", b: "أستمتع بتشجيع الآخرين وتقدير مجهودهم" },
                { a: "عندما تكون لدي مهمة معينة، أركز على إنجازها فقط", b: "عندما تكون لدي مهمة معينة، أركز على العلاقات مع الناس أيضاً" },
                { a: "أستمتع بالمناقشات العقلانية والجدال مع الآخرين", b: "أستمتع بالعلاقات الودية والانسجام مع الآخرين" },
                { a: "أستمتع بالتحديات الفكرية والمنطقية", b: "أستمتع بالمشاعر الإنسانية والعلاقات" },
                { a: "أهتم بالحقائق والمنطق عند تقييم الأشخاص", b: "أهتم بالمشاعر والقيم عند تقييم الأشخاص" },
                { a: "أستمتع بتحليل الأفكار والنظريات", b: "أستمتع بمساعدة الآخرين وتفهم مشاعرهم" },
                { a: "أفضل الوضوح والصراحة في العلاقات", b: "أفضل المرونة والتكيف في العلاقات" },
                { a: "أهتم بالعدالة والمساواة", b: "أهتم بالرحمة والتسامح" },
                { a: "أستمتع بالمنافسة والتحدي", b: "أستمتع بالتعاون والانسجام" },
                { a: "أفضل أن أكون صريحاً ومباشراً", b: "أفضل أن أكون لطيفاً ومتفهماً" }
            ],
            // الجزء الرابع
            [
                { a: "أفضل الدراسة أو العمل بطريقة مرتبة ومنظمة", b: "أفضل الدراسة أو العمل بطريقة مرنة وغير منظمة" },
                { a: "أفضل أن يكون الواجب أو العمل لي موعد تسليم محدد", b: "أفضل أن يكون الواجب أو العمل لي موعد تسليم مفتوح" },
                { a: "طريقة مذاكرتي أو عملي مرتبة ومنظمة، بحيث أوازن بين المذاكرة أو العمل والاسترخاء", b: "طريقة مذاكرتي أو عملي مرنة، بحيث أسترخي أكثر وأضغط نفسي ليلة الامتحانات أو لموعد التسليم" },
                { a: "أضع جدول مذاكرة أو عمل وأحاول الالتزام به", b: "أحب التأجيل والتسويف إلى آخر المستطاع حتى أجد نفسي أمام الأمر الواقع" },
                { a: "عندما يكون أمامي مادتين أو مهمتين أبدأ بالمادة التي يتوجب علي إنهاؤها أولاً", b: "عندما يكون أمامي مادتين أو مهمتين أبدأ بالمادة التي أحبها وأستمتع بها أولاً" },
                { a: "أنا في الغالب أفضل التخطيط والتنظيم، لذلك أبدو مرتباً ومنظماً", b: "أنا في الغالب أفضل العفوية والتلقائية، لذلك أبدو فوضوياً" },
                { a: "أميل للمواعيد والتوجيهات الواضحة", b: "أكره المواعيد والتوجيهات فهي مقيدة" },
                { a: "أحترم المواعيد وأستخدم وسائل التذكر والجدولة", b: "أنسى المواعيد وأندمج فيما ألهي به من عمل" },
                { a: "العمل أولاً ثم الراحة", b: "الراحة أولاً ثم العمل" },
                { a: "أميل إلى حسم الأمور وإغلاقها باتخاذ القرارات بشأنها", b: "أميل إلى ترك الخيارات مفتوحة واتخاذ القرارات في آخر لحظة" },
                { a: "أنني أعمل مبكراً لأتخلص من الزحام", b: "أسوف أعمل حتى تتراكم وأضطر لفعلهما في اللحظة الأخيرة" },
                { a: "حاسم وصارم في المواعيد، ونادراً ما أتأخر", b: "مواعيدي مرنة جداً، وكثيراً ما أتأخر" },
                { a: "أحب العمل وفق خطة محددة", b: "أحب العمل ضمن إطار عام دون الالتزام بخطة محددة" },
                { a: "حياتي مخططة ولا أترك فرصة للمفاجآت", b: "حياتي مرنة ومفتوحة لكل الاحتمالات" },
                { a: "أحترم النظام، وأكره أن أخالف القوانين", b: "أحترم روح القانون ولا ألتزم به بشكل صارم" }
            ]
        ];

        const parts = ["الجزء الأول", "الجزء الثاني", "الجزء الثالث", "الجزء الرابع"];
        let currentPart = 0;
        let currentQuestion = 0;
        let answers = Array(4).fill().map(() => Array(15).fill(null));
        
        const introElement = document.getElementById('intro');
        const testContainer = document.getElementById('test-container');
        const questionsElement = document.getElementById('questions');
        const partTitleElement = document.getElementById('part-title');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const progressElement = document.getElementById('progress');
        const resultContainer = document.getElementById('result-container');
        const personalityTypeElement = document.getElementById('personality-type');
        const personalityDescriptionElement = document.getElementById('personality-description');
        const restartBtn = document.getElementById('restart-btn');
        const startTestBtn = document.getElementById('start-test');

        startTestBtn.addEventListener('click', startTest);
        prevBtn.addEventListener('click', showPreviousQuestion);
        nextBtn.addEventListener('click', showNextQuestion);
        submitBtn.addEventListener('click', calculateResult);
        restartBtn.addEventListener('click', restartTest);

        function startTest() {
            introElement.classList.add('hidden');
            testContainer.classList.remove('hidden');
            showQuestion();
            updateProgress();
        }

        function showQuestion() {
            partTitleElement.textContent = parts[currentPart];
            questionsElement.innerHTML = '';
            
            const questionData = questionsData[currentPart][currentQuestion];
            const questionNumber = currentQuestion + 1;
            
            const questionElement = document.createElement('div');
            questionElement.className = 'question-container';
            questionElement.innerHTML = `
                <div class="question">${questionNumber}. ${questionData.a}</div>
                <div class="options">
                    <div class="option ${answers[currentPart][currentQuestion] === 'a' ? 'selected' : ''}" data-value="a">أ</div>
                    <div class="option ${answers[currentPart][currentQuestion] === 'b' ? 'selected' : ''}" data-value="b">ب</div>
                </div>
            `;
            
            questionsElement.appendChild(questionElement);
            
            const optionElements = questionElement.querySelectorAll('.option');
            optionElements.forEach(option => {
                option.addEventListener('click', () => {
                    optionElements.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    answers[currentPart][currentQuestion] = option.dataset.value;
                    
                    // تمكين زر التالي عند اختيار إجابة
                    nextBtn.disabled = false;
                });
            });
            
            // تحديث حالة الأزرار
            prevBtn.disabled = currentPart === 0 && currentQuestion === 0;
            
            if (currentPart === 3 && currentQuestion === 14) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        function showNextQuestion() {
            if (currentQuestion < 14) {
                currentQuestion++;
            } else if (currentPart < 3) {
                currentPart++;
                currentQuestion = 0;
            }
            
            showQuestion();
            updateProgress();
        }

        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
            } else if (currentPart > 0) {
                currentPart--;
                currentQuestion = 14;
            }
            
            showQuestion();
            updateProgress();
        }

        function updateProgress() {
            const totalQuestions = 60;
            const answeredQuestions = answers.flat().filter(answer => answer !== null).length;
            const progressPercentage = (answeredQuestions / totalQuestions) * 100;
            progressElement.style.width = `${progressPercentage}%`;
        }

        function calculateResult() {
            // حساب النتائج بناءً على الإجابات
            let e = 0, i = 0, s = 0, n = 0, t = 0, f = 0, j = 0, p = 0;
            
            // الجزء الأول: E/I
            answers[0].forEach(answer => {
                if (answer === 'a') e++;
                else if (answer === 'b') i++;
            });
            
            // الجزء الثاني: S/N
            answers[1].forEach(answer => {
                if (answer === 'a') s++;
                else if (answer === 'b') n++;
            });
            
            // الجزء الثالث: T/F
            answers[2].forEach(answer => {
                if (answer === 'a') t++;
                else if (answer === 'b') f++;
            });
            
            // الجزء الرابع: J/P
            answers[3].forEach(answer => {
                if (answer === 'a') j++;
                else if (answer === 'b') p++;
            });
            
            // تحديد نوع الشخصية
            const type = 
                (e > i ? 'E' : 'I') +
                (s > n ? 'S' : 'N') +
                (t > f ? 'T' : 'F') +
                (j > p ? 'J' : 'P');
            
            // عرض النتيجة
            showResult(type);
        }

        function showResult(type) {
            testContainer.classList.add('hidden');
            resultContainer.classList.remove('hidden');
            
            personalityTypeElement.textContent = `نوع شخصيتك هو: ${type}`;
            
            // إضافة وصف مختصر لأنواع الشخصية
            const typeDescriptions = {
                'ISTJ': 'شخصية منظمة وواقعية، تلتزم بالمسؤوليات وتقدس الحقائق.',
                'ISFJ': 'شخصية داعمة ومخلصة، تهتم باحتياجات الآخرين وتحافظ على التقاليد.',
                'INFJ': 'شخصية مثالية وحدسية، تسعى لجعل العالم مكاناً أفضل وتحب العمق في العلاقات.',
                'INTJ': 'شخصية استراتيجية ومبدعة، تتمتع برؤية مستقبلية وتحب التخطيط طويل المدى.',
                'ISTP': 'شخصية عملية ومرنة، تحب استكشاف كيفية عمل الأشياء وتحل المشاكل ببراعة.',
                'ISFP': 'شخصية فنية وحساسة، تعيش اللحظة وتقدر الجمال في كل شيء.',
                'INFP': 'شخصية مثالية ومبدعة، تسعى للانسجام وتؤمن بقيمها الداخلية بعمق.',
                'INTP': 'شخصية تحليلية ومبدعة، تحب النظريات المعقدة وتسعى لفهم الأنظمة.',
                'ESTP': 'شخصية نشطة ومرحة، تحب المخاطرة وتعيش اللحظة بحيوية.',
                'ESFP': 'شخصية spontaneity ومفعمة بالحيوية، تحب المرح وتجلب البهجة للآخرين.',
                'ENFP': 'شخصية متحمسة ومبدعة، ترى احتمالات في كل شيء وتحفز الآخرين.',
                'ENTP': 'شخصية ذكية ومبتكرة، تحب النقاش وتحفز التغيير بالتحدي الفكري.',
                'ESTJ': 'شخصية عملية ومنظمة، تحب النظام وتعمل بجد لتحقيق الأهداف.',
                'ESFJ': 'شخصية داعمة واجتماعية، تحب مساعدة الآخرين وخلق الانسجام.',
                'ENFJ': 'شخصية كاريزمية ومحفزة، تلهم الآخرين وتعمل من أجل الصالح العام.',
                'ENTJ': 'شخصية قيادية وحاسمة، تستراتيجية وتعمل بكفاءة لتحقيق الأهداف.'
            };
            
            personalityDescriptionElement.textContent = typeDescriptions[type] || 'نوع الشخصية غير معروف';
        }

        function restartTest() {
            currentPart = 0;
            currentQuestion = 0;
            answers = Array(4).fill().map(() => Array(15).fill(null));
            
            resultContainer.classList.add('hidden');
            introElement.classList.remove('hidden');
            
            nextBtn.disabled = true;
            updateProgress();
        }
    </script>
</body>
</html>